#ifndef cframe_H
#define cframe_H	

#include <cstdint>
#include "CDatagram.hpp"
#include "CStack.hpp"
#include "CNetworkAdapter.hpp"

#define MAX_FRAME_SIZE          1514

class CFrame
{
public:
	CFrame();
    CFrame(const CFrame &fr);
    CFrame(unsigned char *recieve_buf, int recieve_size);
    ~CFrame();

    CFrame& operator=(const CFrame &fr);
    CFrame& operator<<(CDatagram *p_new_datagram);
    CFrame& operator>>(CDatagram **p_new_datagram);

    unsigned int Send(CNetworkAdapter *adapter);    
    void Clear();

private:
    CStack <CDatagram*> p_datagrams;
    //unsigned char *buffer;

    unsigned int Gather(unsigned char *buffer);
};

#endif
                      